<!-- Game setup -->
<div *ngIf="!gameStatus?.currentRound" class="vertical-stack fill-screen">
  <div class="horizontal-stack terms-input">
    <div class="vertical-stack">
      <h1>ערך מוצא</h1>
      <mat-form-field class="form-field-rtl">
        <input matInput placeholder="הכנס ערך ויקיפדיה" [(ngModel)]="selectedStartTerm">
      </mat-form-field>
    </div>

    <div class="vertical-stack">
      <h1>ערך יעד</h1>
      <mat-form-field class="form-field-rtl">
        <input matInput placeholder="הכנס ערך ויקיפדיה" [(ngModel)]="selectedEndTerm">
      </mat-form-field>
    </div>
  </div>

  <button mat-raised-button
      color="primary"
      (click)="startRound()">
      התחל משחק
  </button>
</div>

<!-- In-round -->
<div *ngIf="gameStatus?.currentRound" class="horizontal-stack fill-screen">
  <div class="vertical-stack full-width">
    <h1>זמן לסיום</h1>
    <app-countdown-timer-display
        class="game-timer"
        size="48pt"
        [endTime]="gameStatus?.roundEndTime || 0">
    </app-countdown-timer-display>
    <hr>
    <div class="vertical-stack scoreboard-container">
      <h1>תוצאות</h1>
      <table class="score-board">
        <thead>
          <tr>
            <td>משתתפ/ת</td>
            <td class="col-right">מסלול&nbsp;נוכחי</td>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let rankedTerminal of rankedTerminals"
            [ngClass]="{completed: rankedTerminal[1].reachedEndTerm}"
              >
            <td class="col-term">
              <div class="horizontal-stack">
                <app-avatar-view [avatar]="terminalInfoForTid(rankedTerminal[0])?.avatar || null"></app-avatar-view>
                {{terminalInfoForTid(rankedTerminal[0])?.username}}
              </div>
            </td>
            <td class="col-right">{{rankedTerminal[1].currentScore}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="graph-container">
    <app-wiki-race-path-graph
      [terminals]="terminals"
      [gameStatus]="gameStatus"
      [showTerms]="gameStatus?.currentRound && !(gameStatus?.roundRunning) || false">
    </app-wiki-race-path-graph>
  </div>
</div>
